# 第７回課題

## セキュリティ対策に関するAWSのサービス
### 脆弱性に関する対策
- CodeGuru Reviewer  
　　リポジトリにあるコードをスキャンし、改善を提案してくれる。
- WAF（Web Application Firewall）  
　　通信を解析・検査し、設定したルールに基づいて攻撃と判断した通信を遮断する。  
　　AWSが提供するルールグループ「AWSManagedRulesCommonRuleSet」ベースに設定するとよい。
- AWS Certificate Manager（ACM）  
　　SSL証明書を発行する。ELBなどにアタッチすることで通信を暗号化する。  
　　併せて、ALBのリスナールールなどで必ず HTTPS（SSL)通信を経由するように設定すること。
- Inspector  
　　EC2やECRの脆弱性のスキャンを行うサービス。自動修復はできない。
- AWS Security Hub  
　　AWSの設定情報を検索して、脆弱な部分を指摘してくれる。  
　　また、他のAWSのセキュリティ関連サービス結果を集約できる。

### 認証情報の流出に関する対策
- IAMに集約できない認証情報の流出防止には、KMS と Secrets Managerの組み合わせが良い。
- AWS Key Management Service（KMS）  
　　AWSの暗号鍵マネージドサービス。暗号鍵を自分で用意しなくてもよい。  
- Secrets Manager  
　　秘匿しなければいけない情報をKMSで暗号化して安全に保管、呼び出しするサービス。  
　　開発キット（SDK）を使って、アプリケーションコードに取り出しの仕組みを実装する。

### 人為的な過負荷に関する対策
- AWS Shield  
　　DDoS 攻撃からインフラを保護してくれるマネージドサービス。Standardは無料で適用される。

### その他
- IAM Access Analyzer  
　　各種ポリシーのチェックを行い、大きな権限を与えていないかを確認してくれる。
- Amazon GuardDuty  
　　AWS内のイベントをチェックし、セキュリティインシデントの疑いがあるイベントを  
　　指摘してくれる。
- Macie  
　　S3バケットに個人情報やクレジットカード番号など機密情報が含まれないかを検知する。
- Detective  
　　複数のAWSサービスを横断して、セキュリティインシデントの発生元などを特定するための  
　　GUIを提供する。
- NetworkFirawall  
　　インターネットゲートウェイとVPCの境界に設置するファイアーウォールを実現する。

## 感想
### 第５回までに構築した環境のセキュリティ対策
- WAFによる通信制御を設定したほうがよい。
- ACMの利用、ALBのリスナールールでHTTPS（SSL)通信を経由するよう設定したほうがよい。
- IAMユーザについて、現在は「AdministratorAccess」権限を付与したユーザですべて  
  操作しているが、実際には必要な権限のみ付与するということも考慮したほうがよい。
- 色々な設定を試しながら理解を深めていきたい。
